Database Schema


User(UserID, Username, Password, Credit)


LoginSession(SessionToken, UserID, ExpirationTime)
* Foreign key UserID references User


Story(StoryID, WriterID, URL, PostedDate, Title, Genre, Blurb, WordCount)
* Foreign key WriterID references User


Review(ReviewID, ReviewText, ReviewerID, StoryID, Stars)
* Foreign key ReviewerID references User
* Foreign key StoryID references Story


Reservation(UserID, StoryID)
* Foreign key UserID references User
* Foreign key StoryID references Story


Database Schema Explanations
(FD means Functional Dependencies and shows evidence of normalization for each table)


User
* Holds the personal information about each user
   * Username and Password: login information and display name for the site
   * Credit: The amount of credit (currency for the website) that the user has
* FD: UserID -> Username, Password, Credit


LoginSession
* Holds the auth tokens for a particular user’s session
   * SessionToken: The auth token for the particular session
   * ExpirationTime: The time at which the token is no longer valid
   * UserID: The id of the user this session belongs to
* FD: SessionToken -> ExpirationTime, UserID


Story
* Holds the information about each posted story
   * StoryID: An arbitrary ID generated by the server
   * WriterID: The UserID of the user who posted the story
   * URL: The link to where other users can read the posted story
   * PostedDate: The date the story was posted
   * Title: The title of the story
   * Genre: One out of a predefined set of genres a story can be
   * Blurb: The poster’s summary of the story or any other information they want to share with other users
   * WordCount: The number of words in the story
* FD: StoryID -> WriterID, URL, PostedDate, Title, Genre, Blurb, WordCount
Review
* Holds relevant information about each review, connecting it to the story it is reviewing
   * ReviewID: The auto incrementing ID for the review
   * ReviewText: The review itself
   * ReviewerID: the UserID of the user that wrote the review
   * StoryID: The StoryID of the story corresponding to this review
   * Stars: The rating that the user gave this review, out of 5 stars. Nullable
* FD: ReviewID -> ReviewText, ReviewerID, StoryID, Stars


Reservation
* Links users to stories they’ve claimed to review
   * UserID: The id of the user who has claimed a story
   * StoryID: The id of the story that has been claimed
* Since the only two columns together comprise the primary key of this table, there are no functional dependencies. 


